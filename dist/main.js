(()=>{"use strict";var t={412:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0});var o=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10],e=function(){function t(t){this.ctor=t}return t.prototype.setAxes=function(t,i){return this.x=t,this.y=i,this},t.prototype.getX=function(){return this.x},t.prototype.setX=function(t){return this.x=t,this},t.prototype.getY=function(){return this.y},t.prototype.setY=function(t){return this.y=t,this},t.prototype.toString=function(t){return void 0===t&&(t=!1),t?"("+Math.round(this.x)+", "+Math.round(this.y)+")":"("+this.x+", "+this.y+")"},t.prototype.toArray=function(){return[this.x,this.y]},t.prototype.toObject=function(){return{x:this.x,y:this.y}},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.multiplyByVector=function(t){return this.x*=t.x,this.y*=t.y,this},t.prototype.mulV=function(t){return this.multiplyByVector(t)},t.prototype.divideByVector=function(t){return this.x/=t.x,this.y/=t.y,this},t.prototype.divV=function(t){return this.divideByVector(t)},t.prototype.multiplyByScalar=function(t){return this.x*=t,this.y*=t,this},t.prototype.mulS=function(t){return this.multiplyByScalar(t)},t.prototype.divideByScalar=function(t){return this.x/=t,this.y/=t,this},t.prototype.divS=function(t){return this.divideByScalar(t)},t.prototype.normalise=function(){return this.divideByScalar(this.magnitude())},t.prototype.normalize=function(){return this.normalise()},t.prototype.unit=function(){return this.normalise()},t.prototype.magnitude=function(){var t=this.x,i=this.y;return Math.sqrt(t*t+i*i)},t.prototype.length=function(){return this.magnitude()},t.prototype.lengthSq=function(){var t=this.x,i=this.y;return t*t+i*i},t.prototype.dot=function(t){return t.x*this.x+t.y*this.y},t.prototype.cross=function(t){return this.x*t.y-this.y*t.x},t.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this},t.prototype.zero=function(){return this.x=this.y=0,this},t.prototype.distance=function(t){var i=this.x-t.x,o=this.y-t.y;return Math.sqrt(i*i+o*o)},t.prototype.rotate=function(t){var i=Math.cos(t),o=Math.sin(t),e=this.x,r=this.y;return this.x=e*i-r*o,this.y=e*o+r*i,this},t.prototype.round=function(t){void 0===t&&(t=2);var i=o[t];return this.x=(.5+this.x*i<<0)/i,this.y=(.5+this.y*i<<0)/i,this},t.prototype.clone=function(){return new this.ctor(this.x,this.y)},t}();i.AbstractVector=e},615:function(t,i,o){var e,r=this&&this.__extends||(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])},function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)});Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){function i(o,e){var r=t.call(this,i)||this;return r._x=o,r._y=e,r}return r(i,t),Object.defineProperty(i.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),i}(o(412).AbstractVector);i.Vector=n}},i={};function o(e){var r=i[e];if(void 0!==r)return r.exports;var n=i[e]={exports:{}};return t[e].call(n.exports,n,n.exports,o),n.exports}(()=>{var t,i=o(615),e=function(){function t(t,o,e,r,n){this.id=n,this.a=new i.Vector(t,o),this.b=new i.Vector(e,r);var s=document.getElementById("canvas").getContext("2d");this.ctx=s}return t.prototype.show=function(){this.ctx&&(this.ctx.strokeStyle="white",this.ctx.beginPath(),this.ctx.moveTo(this.a.x,this.a.y),this.ctx.lineTo(this.b.x,this.b.y),this.ctx.stroke(),this.ctx.closePath())},t}(),r=function(){function t(t,o){this.getVector=function(t){var o={};return o.x=Math.cos(t),o.y=Math.sin(t),new i.Vector(o.x,o.y)},this.pos=t,this.dir=this.getVector(o);var e=document.getElementById("canvas").getContext("2d");this.ctx=e}return t.prototype.lookAt=function(t,i){this.dir.x=t-this.pos.x,this.dir.y=i-this.pos.y,this.dir=this.dir.normalize()},t.prototype.show=function(){this.ctx&&(this.ctx.strokeStyle="white",this.ctx.beginPath(),this.ctx.moveTo(this.pos.x,this.pos.y),this.ctx.translate(this.pos.x,this.pos.y),this.ctx.lineTo(10*this.dir.x,10*this.dir.y),this.ctx.stroke(),this.ctx.translate(-this.pos.x,-this.pos.y),this.ctx.closePath())},t.prototype.cast=function(t){var o=t.a.x,e=t.a.y,r=t.b.x,n=t.b.y,s=this.pos.x,h=this.pos.y,c=this.pos.x+this.dir.x,u=this.pos.y+this.dir.y,p=(o-r)*(h-u)-(e-n)*(s-c);if(0!==p){var a=((o-s)*(h-u)-(e-h)*(s-c))/p;if(a>0&&a<1&&-((o-r)*(e-h)-(e-n)*(o-s))/p>0){var y=o+a*(r-o),x=e+a*(n-e);return new i.Vector(y,x)}}},t}(),n=function(){function t(t,o,e){this.ctx=t,this.pos=new i.Vector(o/2,e/2),this.rays=[];for(var n=0;n<360;n+=10){var s=new r(this.pos,this.radians(n));s&&this.rays.push(s)}}return t.prototype.radians=function(t){return t*(Math.PI/180)},t.prototype.getDistance=function(t,i){var o=t.x,e=t.y,r=i.x,n=i.y;return Math.sqrt(Math.pow(o-r,2)+Math.pow(e-n,2))},t.prototype.update=function(t,i){this.pos.setX(t),this.pos.setY(i)},t.prototype.look=function(t){for(var i=[],o=0,e=this.rays;o<e.length;o++){for(var r=e[o],n=1/0,s=null,h=0,c=t;h<c.length;h++){var u=c[h],p=r.cast(u);if(p){var a=this.getDistance(this.pos,p);a<n&&(n=a,s={pt:p,wall:u}),n=Math.min(a,n)}}if(this.ctx&&s){var y=s.wall.id;i.hasOwnProperty(y)?i[y].push(s):i[y]=[s],this.ctx.strokeStyle="grey",this.ctx.beginPath(),this.ctx.moveTo(this.pos.x,this.pos.y),this.ctx.lineTo(s.pt.x,s.pt.y),this.ctx.stroke(),this.ctx.closePath()}}this.seeWalls(i)},t.prototype.seeWalls=function(t){for(var i,o,e,r,n=0;n<t.length;n++)if(null==t?void 0:t[n])for(var s=0;s<t[n].length;s++)(null===(o=null===(i=null==t?void 0:t[n])||void 0===i?void 0:i[s])||void 0===o?void 0:o.pt)&&(null===(r=null===(e=null==t?void 0:t[n])||void 0===e?void 0:e[s+1])||void 0===r?void 0:r.pt)&&(this.ctx.strokeStyle="red",this.ctx.beginPath(),this.ctx.moveTo(t[n][s].pt.x,t[n][s].pt.y),this.ctx.lineTo(t[n][s+1].pt.x,t[n][s+1].pt.y),this.ctx.stroke(),this.ctx.closePath())},t.prototype.show=function(){if(this.ctx&&this.rays)for(var t=0,i=this.rays;t<i.length;t++)i[t].show()},t}(),s=function(){function t(t){this.ctx=this.ctx}return t.prototype.prim=function(){},t}(),h=1,c=1,u=[];document.addEventListener("mousemove",(function(t){h=t.clientX,c=t.clientY}));var p=document.getElementById("canvas"),a=p.getContext("2d");p.height=window.innerHeight,p.width=window.innerWidth,function(){for(var i=0;i<5;i++){var o=Math.random()*p.width,r=Math.random()*p.height,s=Math.random()*p.width,h=Math.random()*p.height,c=new e(o,r,s,h,i+4);c&&u.push(c),u.push(new e(0,0,p.width,0,0)),u.push(new e(p.width,0,p.width,p.height,1)),u.push(new e(p.width,p.height,0,p.height,2)),u.push(new e(0,p.height,0,0,3))}t=new n(a,p.width,p.height)}(),function i(){for(var o=0,e=u;o<e.length;o++)e[o],t.look(u);a&&(a.fillStyle="white",t.update(h,c),t.show()),setTimeout((function(){!function(){if(a){var t=a.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,t.width,t.height),a.restore()}}(),i()}),50)}(),new s(p)})()})();